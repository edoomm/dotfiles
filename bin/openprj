#!/bin/bash

dotfiles_path() { find $HOME/.dotfiles/ -type d -path '*/*' -prune -print; }
nvim_path() { find $HOME/.dotfiles/config/nvim/ -type d -path '*/*' -prune -print; }
devel_path() { find $HOME/devel -type d -path '*/devel/*' -prune -print; }

paths() { dotfiles_path && nvim_path && devel_path; }

project="$(paths | fzf)"

if [[ -n $project ]]; then
	cd $project
	tmux new-session -A -s "${PWD##*/}" \; new-window 'nvim .' 
fi
